var summaryInclude=180,fuseOptions={shouldSort:!0,includeMatches:!0,includeScore:!0,tokenize:!0,location:0,distance:100,minMatchCharLength:1,keys:[{name:"title",weight:.45},{name:"contents",weight:.4}]},inputBox=document.getElementById("search-query");if(null!==inputBox){var searchQuery=param("q");"undefined"!=typeof textResults&&(searchQuery?(inputBox.value=searchQuery||"",executeSearch(searchQuery,!1)):document.getElementById("search-results").innerHTML="<p>"+textResults+"</p>")}function executeSearch(e){fetch("/index.json").then((function(t){200===t.status?t.json().then((function(t){var n=new Fuse(t,fuseOptions).search(e);n.length>0?populateResults(n):document.getElementById("search-results").innerHTML="<p>"+textNotFound+"</p>"})).catch((function(e){console.log("Fetch Error :-S",e)})):console.log("Looks like there was a problem. Status Code: "+t.status)}))}function populateResults(e){var t=document.getElementById("search-query").value,n=document.getElementById("search-results"),r=document.getElementById("search-result-box").innerHTML;e.forEach((function(e,s){var a,c=e.item.contents,u=[];u.push(t),a=c.substring(0,2*summaryInclude)+"&hellip;";var o="";e.item.tags&&e.item.tags.forEach((function(e){o=o+"<a href='/tags/"+e+"'>#"+e+"</a> "}));var i=render(r,{key:s,title:e.item.title,link:e.item.permalink,snippet:a});n.innerHTML+=i,u.forEach((function(e,t){new Mark(document.getElementById("search-item-"+s)).mark(e)}))}))}function render(e,t){var n,r,s,a,c;for(r=/\$\{\s*isset ([a-zA-Z]*) \s*\}(.*)\$\{\s*end\s*}/g,s=e;null!==(n=r.exec(e));)s=t[n[1]]?s.replace(n[0],n[2]):s.replace(n[0],"");for(a in e=s,t)c=new RegExp("\\$\\{\\s*"+a+"\\s*\\}","g"),e=e.replace(c,t[a]);return e}function param(e){return decodeURIComponent((location.search.split(e+"=")[1]||"").split("&")[0]).replace(/\+/g," ")}