!function(){"use strict";var e=.5*(Math.sqrt(3)-1),a=(3-Math.sqrt(3))/6,r=1/6,t=(Math.sqrt(5)-1)/4,n=(5-Math.sqrt(5))/20;function i(e){var a;a="function"==typeof e?e:e?function(){var e,a=0,r=0,t=0,n=1,i=(e=4022871197,function(a){a=a.toString();for(var r=0;r<a.length;r++){var t=.02519603282416938*(e+=a.charCodeAt(r));t-=e=t>>>0,e=(t*=e)>>>0,e+=4294967296*(t-=e)}return 2.3283064365386963e-10*(e>>>0)});a=i(" "),r=i(" "),t=i(" ");for(var o=0;o<arguments.length;o++)(a-=i(arguments[o]))<0&&(a+=1),(r-=i(arguments[o]))<0&&(r+=1),(t-=i(arguments[o]))<0&&(t+=1);return i=null,function(){var e=2091639*a+2.3283064365386963e-10*n;return a=r,r=t,t=e-(n=0|e)}}(e):Math.random,this.p=o(a),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var r=0;r<512;r++)this.perm[r]=this.p[255&r],this.permMod12[r]=this.perm[r]%12}function o(e){var a,r=new Uint8Array(256);for(a=0;a<256;a++)r[a]=a;for(a=0;a<255;a++){var t=a+~~(e()*(256-a)),n=r[a];r[a]=r[t],r[t]=n}return r}i.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(r,t){var n,i,o=this.permMod12,s=this.perm,p=this.grad3,c=0,d=0,u=0,f=(r+t)*e,v=Math.floor(r+f),h=Math.floor(t+f),l=(v+h)*a,P=r-(v-l),w=t-(h-l);P>w?(n=1,i=0):(n=0,i=1);var g=P-n+a,b=w-i+a,m=P-1+2*a,x=w-1+2*a,M=255&v,A=255&h,I=.5-P*P-w*w;if(I>=0){var y=3*o[M+s[A]];c=(I*=I)*I*(p[y]*P+p[y+1]*w)}var C=.5-g*g-b*b;if(C>=0){var k=3*o[M+n+s[A+i]];d=(C*=C)*C*(p[k]*g+p[k+1]*b)}var L=.5-m*m-x*x;if(L>=0){var T=3*o[M+1+s[A+1]];u=(L*=L)*L*(p[T]*m+p[T+1]*x)}return 70*(c+d+u)},noise3D:function(e,a,t){var n,i,o,s,p,c,d,u,f,v,h=this.permMod12,l=this.perm,P=this.grad3,w=(e+a+t)*(1/3),g=Math.floor(e+w),b=Math.floor(a+w),m=Math.floor(t+w),x=(g+b+m)*r,M=e-(g-x),A=a-(b-x),I=t-(m-x);M>=A?A>=I?(p=1,c=0,d=0,u=1,f=1,v=0):M>=I?(p=1,c=0,d=0,u=1,f=0,v=1):(p=0,c=0,d=1,u=1,f=0,v=1):A<I?(p=0,c=0,d=1,u=0,f=1,v=1):M<I?(p=0,c=1,d=0,u=0,f=1,v=1):(p=0,c=1,d=0,u=1,f=1,v=0);var y=M-p+r,C=A-c+r,k=I-d+r,L=M-u+2*r,T=A-f+2*r,q=I-v+2*r,S=M-1+.5,_=A-1+.5,F=I-1+.5,H=255&g,U=255&b,D=255&m,O=.6-M*M-A*A-I*I;if(O<0)n=0;else{var R=3*h[H+l[U+l[D]]];n=(O*=O)*O*(P[R]*M+P[R+1]*A+P[R+2]*I)}var z=.6-y*y-C*C-k*k;if(z<0)i=0;else{var E=3*h[H+p+l[U+c+l[D+d]]];i=(z*=z)*z*(P[E]*y+P[E+1]*C+P[E+2]*k)}var W=.6-L*L-T*T-q*q;if(W<0)o=0;else{var B=3*h[H+u+l[U+f+l[D+v]]];o=(W*=W)*W*(P[B]*L+P[B+1]*T+P[B+2]*q)}var N=.6-S*S-_*_-F*F;if(N<0)s=0;else{var $=3*h[H+1+l[U+1+l[D+1]]];s=(N*=N)*N*(P[$]*S+P[$+1]*_+P[$+2]*F)}return 32*(n+i+o+s)},noise4D:function(e,a,r,i){var o,s,p,c,d,u,f,v,h,l,P,w,g,b,m,x,M,A=this.perm,I=this.grad4,y=(e+a+r+i)*t,C=Math.floor(e+y),k=Math.floor(a+y),L=Math.floor(r+y),T=Math.floor(i+y),q=(C+k+L+T)*n,S=e-(C-q),_=a-(k-q),F=r-(L-q),H=i-(T-q),U=0,D=0,O=0,R=0;S>_?U++:D++,S>F?U++:O++,S>H?U++:R++,_>F?D++:O++,_>H?D++:R++,F>H?O++:R++;var z=S-(u=U>=3?1:0)+n,E=_-(f=D>=3?1:0)+n,W=F-(v=O>=3?1:0)+n,B=H-(h=R>=3?1:0)+n,N=S-(l=U>=2?1:0)+2*n,$=_-(P=D>=2?1:0)+2*n,j=F-(w=O>=2?1:0)+2*n,G=H-(g=R>=2?1:0)+2*n,J=S-(b=U>=1?1:0)+3*n,K=_-(m=D>=1?1:0)+3*n,Q=F-(x=O>=1?1:0)+3*n,V=H-(M=R>=1?1:0)+3*n,X=S-1+4*n,Y=_-1+4*n,Z=F-1+4*n,ee=H-1+4*n,ae=255&C,re=255&k,te=255&L,ne=255&T,ie=.6-S*S-_*_-F*F-H*H;if(ie<0)o=0;else{var oe=A[ae+A[re+A[te+A[ne]]]]%32*4;o=(ie*=ie)*ie*(I[oe]*S+I[oe+1]*_+I[oe+2]*F+I[oe+3]*H)}var se=.6-z*z-E*E-W*W-B*B;if(se<0)s=0;else{var pe=A[ae+u+A[re+f+A[te+v+A[ne+h]]]]%32*4;s=(se*=se)*se*(I[pe]*z+I[pe+1]*E+I[pe+2]*W+I[pe+3]*B)}var ce=.6-N*N-$*$-j*j-G*G;if(ce<0)p=0;else{var de=A[ae+l+A[re+P+A[te+w+A[ne+g]]]]%32*4;p=(ce*=ce)*ce*(I[de]*N+I[de+1]*$+I[de+2]*j+I[de+3]*G)}var ue=.6-J*J-K*K-Q*Q-V*V;if(ue<0)c=0;else{var fe=A[ae+b+A[re+m+A[te+x+A[ne+M]]]]%32*4;c=(ue*=ue)*ue*(I[fe]*J+I[fe+1]*K+I[fe+2]*Q+I[fe+3]*V)}var ve=.6-X*X-Y*Y-Z*Z-ee*ee;if(ve<0)d=0;else{var he=A[ae+1+A[re+1+A[te+1+A[ne+1]]]]%32*4;d=(ve*=ve)*ve*(I[he]*X+I[he+1]*Y+I[he+2]*Z+I[he+3]*ee)}return 27*(o+s+p+c+d)}},i._buildPermutationTable=o,"undefined"!=typeof define&&define.amd&&define((function(){return i})),"undefined"!=typeof exports?exports.SimplexNoise=i:"undefined"!=typeof window&&(window.SimplexNoise=i),"undefined"!=typeof module&&(module.exports=i)}();const{PI:PI,cos:cos,sin:sin,abs:abs,sqrt:sqrt,pow:pow,round:round,random:random,atan2:atan2}=Math,HALF_PI=.5*PI,TAU=2*PI,TO_RAD=PI/180,floor=e=>0|e,rand=e=>e*random(),randIn=(e,a)=>rand(a-e)+e,randRange=e=>e-rand(2*e),fadeIn=(e,a)=>e/a,fadeOut=(e,a)=>(a-e)/a,fadeInOut=(e,a)=>{let r=.5*a;return abs((e+r)%a-r)/r},dist=(e,a,r,t)=>sqrt(pow(r-e,2)+pow(t-a,2)),angle=(e,a,r,t)=>atan2(t-a,r-e),lerp=(e,a,r)=>(1-r)*e+r*a,pipeCount=count_pipeline,pipePropCount=8,pipePropsLength=8*pipeCount,turnCount=8,turnAmount=45*TO_RAD,turnChanceRange=58,baseSpeed=.5,rangeSpeed=1,baseTTL=100,rangeTTL=300,baseWidth=2,rangeWidth=4,baseHue=180,rangeHue=60,backgroundColor=background_pipeline;let container,canvas,ctx,center,tick,pipeProps;function setup(){createCanvas(),resize(),initPipes(),draw()}function initPipes(){let e;for(pipeProps=new Float32Array(pipePropsLength),e=0;e<pipePropsLength;e+=8)initPipe(e)}function initPipe(e){let a,r,t,n,i,o,s,p;a=rand(canvas.a.width),r=center[1],t=round(rand(1))?HALF_PI:TAU-HALF_PI,n=.5+rand(1),i=0,o=100+rand(300),s=2+rand(4),p=180+rand(60),pipeProps.set([a,r,t,n,0,o,s,p],e)}function updatePipes(){let e;for(tick++,e=0;e<pipePropsLength;e+=8)updatePipe(e)}function updatePipe(e){let a,r,t,n,i,o,s,p,c,d,u=1+e,f=2+e,v=3+e,h=4+e,l=5+e,P=6+e,w=7+e;a=pipeProps[e],r=pipeProps[u],t=pipeProps[f],n=pipeProps[v],i=pipeProps[h],o=pipeProps[l],s=pipeProps[P],p=pipeProps[w],drawPipe(a,r,i,o,s,p),i++,a+=cos(t)*n,r+=sin(t)*n,c=!(tick%round(rand(58))||round(a)%6&&round(r)%6),d=round(rand(1))?-1:1,t+=c?turnAmount*d:0,pipeProps[e]=a,pipeProps[u]=r,pipeProps[f]=t,pipeProps[h]=i,checkBounds(a,r),i>o&&initPipe(e)}function drawPipe(e,a,r,t,n,i){ctx.a.save(),ctx.a.strokeStyle=`hsla(${i},75%,50%,${.125*fadeInOut(r,t)})`,ctx.a.beginPath(),ctx.a.arc(e,a,n,0,TAU),ctx.a.stroke(),ctx.a.closePath(),ctx.a.restore()}function checkBounds(e,a){e>canvas.a.width&&(e=0),e<0&&(e=canvas.a.width),a>canvas.a.height&&(a=0),a<0&&(a=canvas.a.height)}function createCanvas(){container=document.querySelector("#pipeline"),canvas={a:document.createElement("canvas"),b:document.createElement("canvas")},container.appendChild(canvas.b),ctx={a:canvas.a.getContext("2d"),b:canvas.b.getContext("2d")},center=[],tick=0}function resize(){const{innerWidth:e,innerHeight:a}=window;canvas.a.width=e,canvas.a.height=a,ctx.a.drawImage(canvas.b,0,0),canvas.b.width=e,canvas.b.height=a,ctx.b.drawImage(canvas.a,0,0),center[0]=.5*canvas.a.width,center[1]=.5*canvas.a.height}function render(){ctx.b.save(),ctx.b.fillStyle=backgroundColor,ctx.b.fillRect(0,0,canvas.b.width,canvas.b.height),ctx.b.restore(),ctx.b.save(),ctx.b.filter="blur(12px)",ctx.b.drawImage(canvas.a,0,0),ctx.b.restore(),ctx.b.save(),ctx.b.drawImage(canvas.a,0,0),ctx.b.restore()}function draw(){updatePipes(),render(),window.requestAnimationFrame(draw)}window.addEventListener("load",setup),window.addEventListener("resize",resize);