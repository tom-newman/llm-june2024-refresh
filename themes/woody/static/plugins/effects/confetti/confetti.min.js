!function(t){t.confetti=new function(){var n,i,o,e,r,a,h=max_particles_confetti,s=[],l=0,c=!0,d=!0,u={colorOptions:colours_confetti,colorIndex:0,colorIncrementer:0,colorThreshold:10,getColor:function(){return this.colorIncrementer>=10&&(this.colorIncrementer=0,this.colorIndex++,this.colorIndex>=this.colorOptions.length&&(this.colorIndex=0)),this.colorIncrementer++,this.colorOptions[this.colorIndex]}};function m(t){var n,r;this.x=Math.random()*o,this.y=Math.random()*e-e,this.r=(n=10,r=30,Math.floor(Math.random()*(r-n+1)+n)),this.d=Math.random()*h+10,this.color=t,this.tilt=Math.floor(10*Math.random())-10,this.tiltAngleIncremental=.07*Math.random()+.05,this.tiltAngle=0,this.draw=function(){return i.beginPath(),i.lineWidth=this.r/2,i.strokeStyle=this.color,i.moveTo(this.x+this.tilt+this.r/4,this.y),i.lineTo(this.x+this.tilt,this.y+this.tilt+this.r/4),i.stroke()}}function f(){n.style.display="block",s=[],d=!1;for(var t=0;t<h;t++){var r=u.getColor();s.push(new m(r))}o=window.innerWidth,e=window.innerHeight,n.width=o,n.height=e,function t(){return d?null:(a=requestAnimFrame(t),function(){i.clearRect(0,0,o,e);for(var t=[],n=0;n<h;n++)r=n,t.push(s[r].draw());var r;return function(){var t,n=0;l+=.01,.1;for(var i=0;i<h;i++){if(t=s[i],d)return;!c&&t.y<-15?t.y=e+100:(M(t,i),t.y<=e&&n++,w(t,i))}0===n&&x()}(),t}())}()}function w(t,n){(t.x>o+20||t.x<-20||t.y>e)&&c&&(n%5>0||n%2==0?y(t,Math.random()*o,-10,Math.floor(10*Math.random())-10):Math.sin(l)>0?y(t,-5,Math.random()*e,Math.floor(10*Math.random())-10):y(t,o+5,Math.random()*e,Math.floor(10*Math.random())-10))}function M(t,n){t.tiltAngle+=t.tiltAngleIncremental,t.y+=(Math.cos(l+t.d)+3+t.r/2)/2,t.x+=Math.sin(l),t.tilt=15*Math.sin(t.tiltAngle-n/3)}function y(t,n,i,o){t.x=n,t.y=i,t.tilt=o}function g(){clearTimeout(r),clearTimeout(a)}function p(){c=!1,g()}function x(){d=!0,null!=i&&(i.clearRect(0,0,o,e),n.style.display="none")}function v(){g(),x(),r=setTimeout((function(){c=!0,d=!1,f()}),100)}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},this.init=function(){t("#confetti").append('<canvas id="confettiCanvas" style="position:absolute;top:0;left:0;display:none;"></canvas>'),n=document.getElementById("confettiCanvas"),i=n.getContext("2d"),o=window.innerWidth,e=window.innerHeight,n.width=o,n.height=e,f(),t(window).resize((function(){o=window.innerWidth,e=window.innerHeight,n.width=o,n.height=e}))},this.start=f,this.stop=p,this.restart=v},t.confetti.init()}(jQuery);