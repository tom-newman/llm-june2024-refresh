function draw(){OPTS=["fill","stroke"],c=document.getElementById("rainbow"),ξ=c.getContext("2d"),w=c.width,h=c.height,co=.9*h,squares=[];var t=function(t,e,n){var i=(e=e||0)+((t=(t-1||0)+1)-e)*Math.random();return n?~~i:i},e=function(){var e,n,i,a,r,o,s,c,d,u,f;this.init=function(){i=t(sizeone,sizetwo,1),a=-.5*i,e=t(w-a,a,1),n=t(-co,-i,1),r=t(.5*Math.PI),o=t(speed,.25),s=t(.02,.005)*Math.PI,c=[.5,.5],d=[],u=[],f=[];for(var h=0;h<2;h++)d.push(t(2*Math.PI)),u.push(t(.4,.1)),f.push(t(.001,1e-4)*Math.PI)},this.update=function(t){var e,a;n+=o,r+=s,e=Math.max(0,Math.floor(n/co)),a=n-co;for(var w=0;w<2;w++)c[w]=Math.max(0,.4+.1*w+u[w]*Math.sin(f[w]*t+d[w])-e*a*.01);!(n>h+i)&&c[0]+c[1]||this.init(),ξ.fillStyle=ξ.strokeStyle="hsl("+~~(t+.2*n)+",100%,65%)",this.draw()},this.draw=function(){ξ.save(),ξ.translate(e,n),ξ.rotate(r);for(var t=0;t<2;t++)ξ.beginPath(),ξ.globalAlpha=c[t],ξ[OPTS[t]+"Rect"](a,a,i,i);ξ.restore()},this.init()},n=function(t){ξ.clearRect(0,0,w,h);for(var e=0;e<N_SQUARES;e++)squares[e].update(t);requestAnimationFrame(n.bind(this,++t))};!function(){for(var t=0;t<N_SQUARES;t++)squares.push(new e);n(0)}()}!function(){var t=document.getElementById("rainbow");t.getContext("2d");function e(){t.width=window.innerWidth,t.height=window.innerHeight,draw()}window.addEventListener("resize",e,!1),e()}();