var canvas=document.querySelector(".physics"),width=canvas.offsetWidth,height=canvas.offsetHeight,renderer=new THREE.WebGLRenderer({canvas:canvas,antialias:!0,alpha:!0});renderer.setPixelRatio(window.devicePixelRatio>1?2:1),renderer.setSize(width,height),renderer.setClearColor(0,0);var scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(40,width/height,.1,1e3);camera.position.set(0,0,350);var sphere=new THREE.Group;scene.add(sphere);for(var material=new THREE.LineBasicMaterial({color:color_physics}),linesAmount=18,radius=100,verticesAmount=50,j=0;j<linesAmount;j++){var index=j,geometry=new THREE.Geometry;geometry.y=index/linesAmount*radius*2;for(var i=0;i<=verticesAmount;i++){var vector=new THREE.Vector3;vector.x=Math.cos(i/verticesAmount*Math.PI*2),vector.z=Math.sin(i/verticesAmount*Math.PI*2),vector._o=vector.clone(),geometry.vertices.push(vector)}var line=new THREE.Line(geometry,material);sphere.add(line)}function updateVertices(e){for(var r=0;r<sphere.children.length;r++){var t=sphere.children[r];t.geometry.y+=.3,t.geometry.y>2*radius&&(t.geometry.y=0);for(var i=Math.sqrt(t.geometry.y*(2*radius-t.geometry.y)),n=0;n<=verticesAmount;n++){var a=t.geometry.vertices[n],o=15*noise.simplex3(.009*a.x,.009*a.z+6e-4*e,.009*t.geometry.y);a.copy(a._o),a.multiplyScalar(i+o),a.y=t.geometry.y-radius}t.geometry.verticesNeedUpdate=!0}}function render(e){requestAnimationFrame(render),updateVertices(e),renderer.render(scene,camera)}function onResize(){canvas.style.width="",canvas.style.height="",width=canvas.offsetWidth,height=canvas.offsetHeight,camera.aspect=width/height,camera.updateProjectionMatrix(),renderer.setSize(width,height)}var resizeTm,mouse=new THREE.Vector2(.8,.5);function onMouseMove(e){mouse.y=e.clientY/window.innerHeight,TweenMax.to(sphere.rotation,2,{x:1*mouse.y,ease:Power1.easeOut})}requestAnimationFrame(render),window.addEventListener("mousemove",onMouseMove),window.addEventListener("resize",(function(){resizeTm=clearTimeout(resizeTm),resizeTm=setTimeout(onResize,200)}));