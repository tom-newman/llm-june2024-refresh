!function(){"use strict";var a=.5*(Math.sqrt(3)-1),r=(3-Math.sqrt(3))/6,e=1/6,t=(Math.sqrt(5)-1)/4,n=(5-Math.sqrt(5))/20;function o(a){var r;r="function"==typeof a?a:a?function(){var a,r=0,e=0,t=0,n=1,o=(a=4022871197,function(r){r=r.toString();for(var e=0;e<r.length;e++){var t=.02519603282416938*(a+=r.charCodeAt(e));t-=a=t>>>0,a=(t*=a)>>>0,a+=4294967296*(t-=a)}return 2.3283064365386963e-10*(a>>>0)});r=o(" "),e=o(" "),t=o(" ");for(var i=0;i<arguments.length;i++)(r-=o(arguments[i]))<0&&(r+=1),(e-=o(arguments[i]))<0&&(e+=1),(t-=o(arguments[i]))<0&&(t+=1);return o=null,function(){var a=2091639*r+2.3283064365386963e-10*n;return r=e,e=t,t=a-(n=0|a)}}(a):Math.random,this.p=i(r),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var e=0;e<512;e++)this.perm[e]=this.p[255&e],this.permMod12[e]=this.perm[e]%12}function i(a){var r,e=new Uint8Array(256);for(r=0;r<256;r++)e[r]=r;for(r=0;r<255;r++){var t=r+~~(a()*(256-r)),n=e[r];e[r]=e[t],e[t]=n}return e}o.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(e,t){var n,o,i=this.permMod12,s=this.perm,d=this.grad3,c=0,f=0,l=0,u=(e+t)*a,h=Math.floor(e+u),p=Math.floor(t+u),v=(h+p)*r,y=e-(h-v),w=t-(p-v);y>w?(n=1,o=0):(n=0,o=1);var g=y-n+r,m=w-o+r,x=y-1+2*r,b=w-1+2*r,P=255&h,M=255&p,C=.5-y*y-w*w;if(C>=0){var R=3*i[P+s[M]];c=(C*=C)*C*(d[R]*y+d[R+1]*w)}var S=.5-g*g-m*m;if(S>=0){var I=3*i[P+n+s[M+o]];f=(S*=S)*S*(d[I]*g+d[I+1]*m)}var L=.5-x*x-b*b;if(L>=0){var k=3*i[P+1+s[M+1]];l=(L*=L)*L*(d[k]*x+d[k+1]*b)}return 70*(c+f+l)},noise3D:function(a,r,t){var n,o,i,s,d,c,f,l,u,h,p=this.permMod12,v=this.perm,y=this.grad3,w=(a+r+t)*(1/3),g=Math.floor(a+w),m=Math.floor(r+w),x=Math.floor(t+w),b=(g+m+x)*e,P=a-(g-b),M=r-(m-b),C=t-(x-b);P>=M?M>=C?(d=1,c=0,f=0,l=1,u=1,h=0):P>=C?(d=1,c=0,f=0,l=1,u=0,h=1):(d=0,c=0,f=1,l=1,u=0,h=1):M<C?(d=0,c=0,f=1,l=0,u=1,h=1):P<C?(d=0,c=1,f=0,l=0,u=1,h=1):(d=0,c=1,f=0,l=1,u=1,h=0);var R=P-d+e,S=M-c+e,I=C-f+e,L=P-l+2*e,k=M-u+2*e,A=C-h+2*e,O=P-1+.5,q=M-1+.5,T=C-1+.5,z=255&g,_=255&m,D=255&x,F=.6-P*P-M*M-C*C;if(F<0)n=0;else{var E=3*p[z+v[_+v[D]]];n=(F*=F)*F*(y[E]*P+y[E+1]*M+y[E+2]*C)}var H=.6-R*R-S*S-I*I;if(H<0)o=0;else{var U=3*p[z+d+v[_+c+v[D+f]]];o=(H*=H)*H*(y[U]*R+y[U+1]*S+y[U+2]*I)}var W=.6-L*L-k*k-A*A;if(W<0)i=0;else{var $=3*p[z+l+v[_+u+v[D+h]]];i=(W*=W)*W*(y[$]*L+y[$+1]*k+y[$+2]*A)}var N=.6-O*O-q*q-T*T;if(N<0)s=0;else{var B=3*p[z+1+v[_+1+v[D+1]]];s=(N*=N)*N*(y[B]*O+y[B+1]*q+y[B+2]*T)}return 32*(n+o+i+s)},noise4D:function(a,r,e,o){var i,s,d,c,f,l,u,h,p,v,y,w,g,m,x,b,P,M=this.perm,C=this.grad4,R=(a+r+e+o)*t,S=Math.floor(a+R),I=Math.floor(r+R),L=Math.floor(e+R),k=Math.floor(o+R),A=(S+I+L+k)*n,O=a-(S-A),q=r-(I-A),T=e-(L-A),z=o-(k-A),_=0,D=0,F=0,E=0;O>q?_++:D++,O>T?_++:F++,O>z?_++:E++,q>T?D++:F++,q>z?D++:E++,T>z?F++:E++;var H=O-(l=_>=3?1:0)+n,U=q-(u=D>=3?1:0)+n,W=T-(h=F>=3?1:0)+n,$=z-(p=E>=3?1:0)+n,N=O-(v=_>=2?1:0)+2*n,B=q-(y=D>=2?1:0)+2*n,G=T-(w=F>=2?1:0)+2*n,j=z-(g=E>=2?1:0)+2*n,J=O-(m=_>=1?1:0)+3*n,K=q-(x=D>=1?1:0)+3*n,Q=T-(b=F>=1?1:0)+3*n,V=z-(P=E>=1?1:0)+3*n,X=O-1+4*n,Y=q-1+4*n,Z=T-1+4*n,aa=z-1+4*n,ra=255&S,ea=255&I,ta=255&L,na=255&k,oa=.6-O*O-q*q-T*T-z*z;if(oa<0)i=0;else{var ia=M[ra+M[ea+M[ta+M[na]]]]%32*4;i=(oa*=oa)*oa*(C[ia]*O+C[ia+1]*q+C[ia+2]*T+C[ia+3]*z)}var sa=.6-H*H-U*U-W*W-$*$;if(sa<0)s=0;else{var da=M[ra+l+M[ea+u+M[ta+h+M[na+p]]]]%32*4;s=(sa*=sa)*sa*(C[da]*H+C[da+1]*U+C[da+2]*W+C[da+3]*$)}var ca=.6-N*N-B*B-G*G-j*j;if(ca<0)d=0;else{var fa=M[ra+v+M[ea+y+M[ta+w+M[na+g]]]]%32*4;d=(ca*=ca)*ca*(C[fa]*N+C[fa+1]*B+C[fa+2]*G+C[fa+3]*j)}var la=.6-J*J-K*K-Q*Q-V*V;if(la<0)c=0;else{var ua=M[ra+m+M[ea+x+M[ta+b+M[na+P]]]]%32*4;c=(la*=la)*la*(C[ua]*J+C[ua+1]*K+C[ua+2]*Q+C[ua+3]*V)}var ha=.6-X*X-Y*Y-Z*Z-aa*aa;if(ha<0)f=0;else{var pa=M[ra+1+M[ea+1+M[ta+1+M[na+1]]]]%32*4;f=(ha*=ha)*ha*(C[pa]*X+C[pa+1]*Y+C[pa+2]*Z+C[pa+3]*aa)}return 27*(i+s+d+c+f)}},o._buildPermutationTable=i,"undefined"!=typeof define&&define.amd&&define((function(){return o})),"undefined"!=typeof exports?exports.SimplexNoise=o:"undefined"!=typeof window&&(window.SimplexNoise=o),"undefined"!=typeof module&&(module.exports=o)}();const{PI:PI,cos:cos,sin:sin,abs:abs,sqrt:sqrt,pow:pow,round:round,random:random,atan2:atan2}=Math,HALF_PI=.5*PI,TAU=2*PI,TO_RAD=PI/180,floor=a=>0|a,rand=a=>a*random(),randIn=(a,r)=>rand(r-a)+a,randRange=a=>a-rand(2*a),fadeIn=(a,r)=>a/r,fadeOut=(a,r)=>(r-a)/r,fadeInOut=(a,r)=>{let e=.5*r;return abs((a+e)%r-e)/e},dist=(a,r,e,t)=>sqrt(pow(e-a,2)+pow(t-r,2)),angle=(a,r,e,t)=>atan2(t-r,e-a),lerp=(a,r,e)=>(1-e)*a+e*r,rayCount=raycount_aurora,rayPropCount=8,rayPropsLength=8*rayCount,baseLength=200,rangeLength=200,baseSpeed=speed_aurora,rangeSpeed=.1,baseWidth=10,rangeWidth=20,baseHue=120,rangeHue=60,baseTTL=50,rangeTTL=100,noiseStrength=100,xOff=.0015,yOff=.0015,zOff=.0015,backgroundColor=background_aurora;let container,canvas,ctx,center,tick,simplex,rayProps;function setup(){createCanvas(),resize(),initRays(),draw()}function initRays(){let a;for(tick=0,simplex=new SimplexNoise,rayProps=new Float32Array(rayPropsLength),a=0;a<rayPropsLength;a+=8)initRay(a)}function initRay(a){let r,e,t,n,o,i,s,d,c,f;r=200+rand(200),e=rand(canvas.a.width),t=center[1]+100,n=center[1]+100-r,o=100*simplex.noise3D(e*xOff,t*yOff,tick*zOff),t+=o,n+=o,i=0,s=50+rand(100),d=10+rand(20),c=baseSpeed+rand(.1)*(round(rand(1))?1:-1),f=120+rand(60),rayProps.set([e,t,n,0,s,d,c,f],a)}function drawRays(){let a;for(a=0;a<rayPropsLength;a+=8)updateRay(a)}function updateRay(a){let r,e,t,n,o,i,s,d,c=1+a,f=2+a,l=3+a,u=4+a,h=5+a,p=6+a,v=7+a;r=rayProps[a],e=rayProps[c],t=rayProps[f],n=rayProps[l],o=rayProps[u],i=rayProps[h],s=rayProps[p],d=rayProps[v],drawRay(r,e,t,n,o,i,d),r+=s,n++,rayProps[a]=r,rayProps[l]=n,(checkBounds(r)||n>o)&&initRay(a)}function drawRay(a,r,e,t,n,o,i){let s;s=ctx.a.createLinearGradient(a,r,a,e),s.addColorStop(0,`hsla(${i},100%,65%,0)`),s.addColorStop(.5,`hsla(${i},100%,65%,${fadeInOut(t,n)})`),s.addColorStop(1,`hsla(${i},100%,65%,0)`),ctx.a.save(),ctx.a.beginPath(),ctx.a.strokeStyle=s,ctx.a.lineWidth=o,ctx.a.moveTo(a,r),ctx.a.lineTo(a,e),ctx.a.stroke(),ctx.a.closePath(),ctx.a.restore()}function checkBounds(a){return a<0||a>canvas.a.width}function createCanvas(){container=document.querySelector("#aurora"),canvas={a:document.createElement("canvas"),b:document.createElement("canvas")},container.appendChild(canvas.b),ctx={a:canvas.a.getContext("2d"),b:canvas.b.getContext("2d")},center=[]}function resize(){const{innerWidth:a,innerHeight:r}=window;canvas.a.width=a,canvas.a.height=r,ctx.a.drawImage(canvas.b,0,0),canvas.b.width=a,canvas.b.height=r,ctx.b.drawImage(canvas.a,0,0),center[0]=.5*canvas.a.width,center[1]=.5*canvas.a.height}function render(){ctx.b.save(),ctx.b.filter="blur(12px)",ctx.a.globalCompositeOperation="lighter",ctx.b.drawImage(canvas.a,0,0),ctx.b.restore()}function draw(){tick++,ctx.a.clearRect(0,0,canvas.a.width,canvas.a.height),ctx.b.fillStyle=backgroundColor,ctx.b.fillRect(0,0,canvas.b.width,canvas.a.height),drawRays(),render(),window.requestAnimationFrame(draw)}window.addEventListener("load",setup),window.addEventListener("resize",resize);