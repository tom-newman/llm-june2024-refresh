var canvas=document.querySelector(".hawking"),width=canvas.offsetWidth,height=canvas.offsetHeight,renderer=new THREE.WebGLRenderer({canvas:canvas,antialias:!0});renderer.setPixelRatio(window.devicePixelRatio>1?2:1),renderer.setSize(width,height),renderer.setClearColor(background_hawking);var scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(40,width/height,.1,1e3);camera.position.set(0,0,280);var sphere=new THREE.Group;scene.add(sphere);for(var resizeTm,mat1=new THREE.LineBasicMaterial({color:color_1_hawking}),mat2=new THREE.LineBasicMaterial({color:color_2_hawking}),radius=100,lines=50,dots=50,i=0;i<lines;i++){var geometry=new THREE.Geometry,line=new THREE.Line(this.geometry,Math.random()>.2?mat1:mat2);line.speed=300*Math.random()+250,line.wave=Math.random(),line.radius=Math.floor(radius+(Math.random()-.5)*(.2*radius));for(var j=0;j<dots;j++){var x=j/dots*line.radius*2-line.radius,vector=new THREE.Vector3(x,0,0);geometry.vertices.push(vector)}line.rotation.x=Math.random()*Math.PI,line.rotation.y=Math.random()*Math.PI,line.rotation.z=Math.random()*Math.PI,sphere.add(line)}function updateDots(e){var r,a,t,i,n;for(r=0;r<lines;r++){for(t=sphere.children[r],a=0;a<dots;a++){i=sphere.children[r].geometry.vertices[a];var o=1-(t.radius-Math.abs(i.x))/t.radius;n=12*Math.sin(e/t.speed+.15*a)*o,i.y=n}t.geometry.verticesNeedUpdate=!0}}function render(e){requestAnimationFrame(render),updateDots(e),sphere.rotation.y=1e-4*e,sphere.rotation.x=1e-4*-e,renderer.render(scene,camera)}function onResize(){canvas.style.width="",canvas.style.height="",width=canvas.offsetWidth,height=canvas.offsetHeight,camera.aspect=width/height,camera.updateProjectionMatrix(),renderer.setSize(width,height)}requestAnimationFrame(render),window.addEventListener("resize",(function(){resizeTm=clearTimeout(resizeTm),resizeTm=setTimeout(onResize,200)}));